import{r as i,a as ee}from"./vendor-YrKBaaSI.js";import"./utils-CHx6bvGq.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();var B={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te=i,se=Symbol.for("react.element"),re=Symbol.for("react.fragment"),ae=Object.prototype.hasOwnProperty,ne=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oe={key:!0,ref:!0,__self:!0,__source:!0};function F(c,n,o){var l,t={},s=null,d=null;o!==void 0&&(s=""+o),n.key!==void 0&&(s=""+n.key),n.ref!==void 0&&(d=n.ref);for(l in n)ae.call(n,l)&&!oe.hasOwnProperty(l)&&(t[l]=n[l]);if(c&&c.defaultProps)for(l in n=c.defaultProps,n)t[l]===void 0&&(t[l]=n[l]);return{$$typeof:se,type:c,key:s,ref:d,props:t,_owner:ne.current}}S.Fragment=re;S.jsx=F;S.jsxs=F;B.exports=S;var e=B.exports,U,$=ee;U=$.createRoot,$.hydrateRoot;const H=(c,n)=>{const o=new Date,l=o.toLocaleDateString("en-US",{weekday:"long"});if(n.some(({startDate:h,endDate:g})=>{const y=new Date(h+"T00:00:00"),b=new Date(g+"T00:00:00"),v=new Date(o.toISOString().split("T")[0]+"T00:00:00");return v>=y&&v<=b}))return!1;const s=c.find(h=>h.day===l);if(!s||s.openTime==="CLOSED"||s.closeTime==="CLOSED")return!1;const d=o.getHours()*100+o.getMinutes(),[D,C]=s.openTime.split(":"),[w,p]=s.closeTime.split(":"),O=parseInt(D)*100+parseInt(C),f=parseInt(w)*100+parseInt(p);return d>=O&&d<=f},A=c=>new Date(c+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),le=c=>{const n=new Date().toLocaleDateString("en-US",{weekday:"long"}),o=c.find(l=>l.day===n);return o?o.openTime==="CLOSED"?"Closed today":`Today: ${o.openTime} - ${o.closeTime}`:"Hours not available"},ie=()=>{const[c,n]=i.useState([]),[o,l]=i.useState([]),[t,s]=i.useState([]),[d,D]=i.useState(null),[C,w]=i.useState(!0),[p,O]=i.useState("all"),[f,h]=i.useState(""),[g,y]=i.useState(!1),[b,v]=i.useState(!1),[j,q]=i.useState(null),L=i.useRef(null);i.useEffect(()=>{const r=u=>{L.current&&!L.current.contains(u.target)&&y(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]),i.useEffect(()=>{(async()=>{try{const m="1VX-i0LIFaHrlR-grOZRgWeSNARxBm93ni1o3fyeVOw0",N="AIzaSyAM1FO-37Wwhg7ctsUkmLQc1e_SVNP4egM",T=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${m}/values/Sheet1?key=${N}`),_=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${m}/values/BusinessHours?key=${N}`),k=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${m}/values/SpecialDates?key=${N}`);if(!T.ok||!_.ok||!k.ok)throw new Error("Failed to fetch data");const[V,W,z]=await Promise.all([T.json(),_.json(),k.json()]),[de,...K]=V.values,I=K.map(a=>({Category:a[0]||"",Name:a[1]||"",Price:a[2]||"0.00",Description:a[3]||""})),[ue,...Y]=W.values,P=Y.map(a=>({day:a[0],openTime:a[1],closeTime:a[2]})),[me,...J]=z.values,R=J.filter(a=>a[0]&&a[1]).map(a=>({startDate:a[0],endDate:a[1],status:a[2],reason:a[3]})),X=[...new Set(I.map(a=>a.Category))].map(a=>({category:a,items:I.filter(x=>x.Category===a).map(x=>({name:x.Name,price:parseFloat(x.Price||0).toFixed(2),description:x.Description}))}));n(X),l(P),s(R);const Z=H(P,R);v(Z);const M=new Date;M.setHours(0,0,0,0);const G=R.find(a=>new Date(a.startDate+"T00:00:00")>=M);q(G),w(!1)}catch(m){console.error("Error loading data:",m),D("Error loading data. Please try again later."),w(!1)}})();const u=setInterval(()=>{o.length&&t.length&&v(H(o,t))},6e4);return()=>clearInterval(u)},[]);const E=r=>{O(r),y(!1)},Q=c.map(r=>({...r,items:r.items.filter(u=>u.name.toLowerCase().includes(f.toLowerCase())||u.description.toLowerCase().includes(f.toLowerCase()))})).filter(r=>p==="all"||r.category===p).filter(r=>f===""||r.items.length>0);return C?e.jsx("div",{className:"min-h-[600px] flex justify-center items-center",children:e.jsx("div",{className:"text-xl",children:"Loading menu..."})}):d?e.jsx("div",{className:"min-h-[600px] flex justify-center items-center",children:e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d})}):e.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[e.jsx("header",{className:"mb-8 min-h-[150px]",role:"banner",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Skampa Restaurant"}),e.jsx("h2",{className:"text-xl mt-1",children:"Mediterranean Cuisine & Best Roast Beef"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Cambridge's Premier Mediterranean Restaurant"})]}),e.jsxs("div",{className:"flex flex-col items-center sm:items-end mt-2 sm:mt-0 min-w-[200px]",children:[e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full min-w-[120px] justify-center ${b?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${b?"bg-blue-500":"bg-red-500"}`}),e.jsx("span",{className:"font-semibold",children:b?"Open Now":"Closed"})]}),e.jsx("div",{className:"text-sm mt-1 min-h-[20px]",children:le(o)}),j&&e.jsxs("div",{className:"text-sm text-gray-600 mt-1 min-h-[20px]",children:["Closed ",A(j.startDate)," - ",A(j.endDate),j.reason&&e.jsxs("span",{className:"text-red-600 ml-1",children:["(",j.reason,")"]})]}),e.jsxs("address",{className:"text-sm text-gray-600 mt-2 not-italic text-center sm:text-right",children:[e.jsx("a",{href:"tel:+16173540009",className:"hover:text-blue-600 block",children:"617-354-0009"}),e.jsx("a",{href:"https://maps.google.com/?q=424+Cambridge+St,+Cambridge+MA+02141",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 block",children:"424 Cambridge St, Cambridge, MA"})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 min-h-[48px]",children:[e.jsx("input",{type:"text",placeholder:"Search our Mediterranean menu & famous roast beef...","aria-label":"Search menu items",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:f,onChange:r=>h(r.target.value)}),e.jsxs("div",{className:"relative",ref:L,children:[e.jsx("button",{"aria-haspopup":"true","aria-expanded":g,onClick:()=>y(!g),className:"w-full sm:w-auto px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:p==="all"?"Categories":p}),g&&e.jsxs("div",{className:"absolute right-0 mt-2 py-2 w-48 bg-white rounded-lg shadow-xl z-20 border",role:"menu","aria-orientation":"vertical",children:[e.jsx("button",{role:"menuitem",onClick:()=>E("all"),className:`block w-full text-left px-4 py-2 hover:bg-gray-100 ${p==="all"?"bg-blue-50 text-blue-500":""}`,children:"All Categories"}),c.map((r,u)=>e.jsx("button",{role:"menuitem",onClick:()=>E(r.category),className:`block w-full text-left px-4 py-2 hover:bg-gray-100 ${p===r.category?"bg-blue-50 text-blue-500":""}`,children:r.category},u))]})]})]}),e.jsx("main",{role:"main","aria-label":"Restaurant Menu",className:"min-h-[400px]",children:Q.map((r,u)=>e.jsxs("section",{className:"mb-8","aria-labelledby":`category-${r.category.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",id:`category-${r.category.toLowerCase().replace(/\s+/g,"-")}`,children:r.category}),e.jsx("div",{className:"grid gap-4",children:r.items.map((m,N)=>e.jsxs("article",{className:"border p-4 rounded-lg",itemScope:!0,itemType:"https://schema.org/MenuItem",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-semibold",itemProp:"name",children:m.name}),e.jsxs("span",{className:"text-gray-700",itemProp:"price",children:["$",m.price]})]}),m.description&&e.jsx("p",{className:"text-gray-600 mt-2",itemProp:"description",children:m.description})]},N))})]},u))})]})};function ce(){return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(ie,{})})}U(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx(ce,{})}));
//# sourceMappingURL=index-mi3EXcFG.js.map
